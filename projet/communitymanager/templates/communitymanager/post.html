<!-- Template that focuses on a particular post, displaying its content and comments -->
{% extends 'base.html' %}

{% block title %}{{ one_post }}{% endblock %}

{% block nav %}
    {% include 'nav/link_home.html' %}
    {% include 'nav/link_communities.html' %}
    {% include 'nav/link_community.html' %}
{% endblock %}

{% block logout %}{% include 'nav/logout.html' %}{% endblock %}

{% block top %}{{ one_post }}<h3>{%  include 'utility/post_like.html' %}</h3>{% endblock %}

{% block content %}
    <div class = "row">
        <div class="col-md-10">
            <div class="col-md-11">
                <div class="row mb-5">
                    <div class="col-auto text-justify border border-right-0 border-top-0 pb-2 pl-4">
                        <h3>{{ one_post.description }}</h3>
                    </div>
                    <div class="col-auto mt-3">
                        {% include 'utility/post_signature.html' %}
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-9">
                        <h3 class="display-3">Comments</h3>

                            {% include 'utility/post_comments.html' %}


                        <h4> <i class="bi bi-chat-left-dots"></i> Leave your comment </h4>

                        <form action="{% url 'post' post_id=one_post.id %}" method="post">
                            {% csrf_token %}
                            <div class="form-group">
                                <label for="id_content">Comment:</label>
                                <textarea class="form-control" rows="5" id="id_content" name="content"></textarea>
                            </div>
                            <input type="submit" value="Submit">
                        </form>
                    </div>
                </div>
            </div>
        </div>
        {% include "nav/link_new_post.html" %}
    </div>

    {# script to make the toast pop-up #}
    <script>
        $(document).ready(function () {
            $('.toast').toast('show');
        });
    </script>
{% endblock %}